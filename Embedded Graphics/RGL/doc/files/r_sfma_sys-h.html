<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>SFMA Driver support functions - The D1x RGL package</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script language=JavaScript src="../javascript/main.js"></script><script language=JavaScript src="../javascript/prettify.js"></script></head><body class="FramedContentPage" onLoad="NDOnLoad();prettyPrint();"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.52 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CSection"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="SFMA_Driver_support_functions"></a>SFMA Driver support functions</h1><div class=CBody><p>SFMA (Serial Flash Memory Interface A) driver support functions</p><p>The generic SFMA driver uses these functions.&nbsp; They have to be implemented within the driver library for a concrete device.&nbsp; (e.g.&nbsp; D1L, D1M)</p><p>Support functions are functions that are not part of the driver itself but they must be provided to integrate the driver on a particular board.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#SFMA_Driver_support_functions" >SFMA Driver support functions</a></td><td class=SDescription>SFMA (Serial Flash Memory Interface A) driver support functions</td></tr><tr class="SSection"><td class=SEntry><a href="#Global_Types" >Global Types</a></td><td class=SDescription></td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Types" >Types</a></td><td class=SDescription></td></tr><tr class="SType SIndent2 SMarked"><td class=SEntry><a href="#r_sfma_SpiConfig_t" >r_sfma_SpiConfig_t</a></td><td class=SDescription>This type describes the configuration of the SPI.</td></tr><tr class="SType SIndent2"><td class=SEntry><a href="#r_sfma_Dev_t" >r_sfma_Dev_t</a></td><td class=SDescription>This type describes the information of the SFMA driver.</td></tr><tr class="SSection"><td class=SEntry><a href="#Global_Functions" >Global Functions</a></td><td class=SDescription></td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#SFMA_driver_Basic_interface_functions" >SFMA driver Basic interface functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_Init" id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">R_SFMA_Sys_Init</a></td><td class=SDescription>This function initializes environment-dependent part. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#R_SFMA_Sys_DeInit" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">R_SFMA_Sys_DeInit</a></td><td class=SDescription>This function de-initializes environment-dependent part. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_BaseAddrGet" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">R_SFMA_Sys_BaseAddrGet</a></td><td class=SDescription>This function gives back base address of dedicated macro. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#R_SFMA_Sys_ClockGet" id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">R_SFMA_Sys_ClockGet</a></td><td class=SDescription>This function gives back clock frequency of dedicated clock input. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_CalibSetting" id=link5 onMouseOver="ShowTip(event, 'tt5', 'link5')" onMouseOut="HideTip('tt5')">R_SFMA_Sys_CalibSetting</a></td><td class=SDescription>This function sets the calibration of the SFMA macro. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#R_SFMA_Sys_Close" id=link6 onMouseOver="ShowTip(event, 'tt6', 'link6')" onMouseOut="HideTip('tt6')">R_SFMA_Sys_Close</a></td><td class=SDescription>This function closes the SFMA in external address space. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_DDREnable" id=link7 onMouseOver="ShowTip(event, 'tt7', 'link7')" onMouseOut="HideTip('tt7')">R_SFMA_Sys_DDREnable</a></td><td class=SDescription>This function returns valid / invalid of the memory access mode (DDR or SDR). </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#R_SFMA_Sys_BusWidth8BitEnable" id=link8 onMouseOver="ShowTip(event, 'tt8', 'link8')" onMouseOut="HideTip('tt8')">R_SFMA_Sys_BusWidth8BitEnable</a></td><td class=SDescription>This function returns valid / invalid of the bus width 8bits mode (4bits or 8bits). </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_SyncPeripheral" id=link9 onMouseOver="ShowTip(event, 'tt9', 'link9')" onMouseOut="HideTip('tt9')">R_SFMA_Sys_SyncPeripheral</a></td><td class=SDescription>This function performs synchronization processing to reflect updated contents of the control register. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#R_SFMA_Sys_NumberOfUnitGet" id=link10 onMouseOver="ShowTip(event, 'tt10', 'link10')" onMouseOut="HideTip('tt10')">R_SFMA_Sys_NumberOfUnitGet</a></td><td class=SDescription>This function retrieves the number of SFMA unit in this LSI. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_ExclusiveUnitGet" id=link11 onMouseOver="ShowTip(event, 'tt11', 'link11')" onMouseOut="HideTip('tt11')">R_SFMA_Sys_ExclusiveUnitGet</a></td><td class=SDescription>This function retrieves the exclusive unit for specified unit. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#R_SFMA_Sys_GetDevInfo" id=link12 onMouseOver="ShowTip(event, 'tt12', 'link12')" onMouseOut="HideTip('tt12')">R_SFMA_Sys_GetDevInfo</a></td><td class=SDescription>This function retrieves the pointer to <a href="#r_sfma_Dev_t" class=LType id=link13 onMouseOver="ShowTip(event, 'tt13', 'link13')" onMouseOut="HideTip('tt13')">r_sfma_Dev_t</a> information. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_GetCal" id=link14 onMouseOver="ShowTip(event, 'tt14', 'link14')" onMouseOut="HideTip('tt14')">R_SFMA_Sys_GetCal</a></td><td class=SDescription>This function retrieves the calibration value from the CKDLY register This function is called from <a href="r_sfma_api-h.html#R_SFMA_GetCal" class=LFunction id=link15 onMouseOver="ShowTip(event, 'tt15', 'link15')" onMouseOut="HideTip('tt15')">R_SFMA_GetCal</a>.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#R_SFMA_Sys_MinClockDivGet" id=link16 onMouseOver="ShowTip(event, 'tt16', 'link16')" onMouseOut="HideTip('tt16')">R_SFMA_Sys_MinClockDivGet</a></td><td class=SDescription>This function gives back the minimum clock divider. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#SFMA_driver_port_interface_functions" >SFMA driver port interface functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_SpibscPortSet" id=link17 onMouseOver="ShowTip(event, 'tt17', 'link17')" onMouseOut="HideTip('tt17')">R_SFMA_Sys_SpibscPortSet</a></td><td class=SDescription>This function sets the I/O signals of the SFMA. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#SFMA_driver_OS_interface_functions" >SFMA driver OS interface functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_Lock" id=link18 onMouseOver="ShowTip(event, 'tt18', 'link18')" onMouseOut="HideTip('tt18')">R_SFMA_Sys_Lock</a></td><td class=SDescription>This function locks the SFMA driver access to the specified unit from other threads. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#R_SFMA_Sys_Unlock" id=link19 onMouseOver="ShowTip(event, 'tt19', 'link19')" onMouseOut="HideTip('tt19')">R_SFMA_Sys_Unlock</a></td><td class=SDescription>This function unlocks the SFMA driver access to the specified unit from other threads. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_AllLock" id=link20 onMouseOver="ShowTip(event, 'tt20', 'link20')" onMouseOut="HideTip('tt20')">R_SFMA_Sys_AllLock</a></td><td class=SDescription>This function locks the SFMA driver access to all unit for other threads. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#R_SFMA_Sys_AllUnlock" id=link21 onMouseOver="ShowTip(event, 'tt21', 'link21')" onMouseOut="HideTip('tt21')">R_SFMA_Sys_AllUnlock</a></td><td class=SDescription>This function unlocks the SFMA driver access to all unit for other threads. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_Relax" id=link22 onMouseOver="ShowTip(event, 'tt22', 'link22')" onMouseOut="HideTip('tt22')">R_SFMA_Sys_Relax</a></td><td class=SDescription>This function relaxes CPU to avoid blocking. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#SFMA_driver_SWAP_interface_functions" >SFMA driver SWAP interface functions</a></td><td class=SDescription>Note:  This function does NOT support current RGL.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_UnitWindowSelect" id=link23 onMouseOver="ShowTip(event, 'tt23', 'link23')" onMouseOut="HideTip('tt23')">R_SFMA_Sys_UnitWindowSelect</a></td><td class=SDescription>This function flips the access able space which mapped to CPU address space in SFMA0 and SFMA1 by specifying the unit number and the Window. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#R_SFMA_Sys_SwapUnitGet" id=link24 onMouseOver="ShowTip(event, 'tt24', 'link24')" onMouseOut="HideTip('tt24')">R_SFMA_Sys_SwapUnitGet</a></td><td class=SDescription>This function retrieves the unit to be swapped for specified unit. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_UnitNumberGet" id=link25 onMouseOver="ShowTip(event, 'tt25', 'link25')" onMouseOut="HideTip('tt25')">R_SFMA_Sys_UnitNumberGet</a></td><td class=SDescription>This function retrieves the unit number of specifying Window for SFMA. </td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Global_Types"></a>Global Types</h2><div class=CBody><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Types" >Types</a></td><td class=SDescription></td></tr><tr class="SType SIndent1 SMarked"><td class=SEntry><a href="#r_sfma_SpiConfig_t" >r_sfma_SpiConfig_t</a></td><td class=SDescription>This type describes the configuration of the SPI.</td></tr><tr class="SType SIndent1"><td class=SEntry><a href="#r_sfma_Dev_t" >r_sfma_Dev_t</a></td><td class=SDescription>This type describes the information of the SFMA driver.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Types"></a>Types</h3></div></div>

<div class="CType"><div class=CTopic><h3 class=CTitle><a name="r_sfma_SpiConfig_t"></a>r_sfma_SpiConfig_t</h3><div class=CBody><h4 class=CHeading>Description</h4><p>This type describes the configuration of the SPI.</p><h4 class=CHeading>Struct members</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>MemoryNum</td><td class=CDLDescription>The parameter specifies the number of the connecting serial flash memories.&nbsp; One serial flash memory is connected.&lt;0uL&gt; Two serial flash memories are connected.&lt;1uL&gt;</td></tr><tr><td class=CDLEntry>MaxClock</td><td class=CDLDescription>The parameter specifies the maximum clock of connected the serial flash memory (Hz).</td></tr><tr><td class=CDLEntry>PageSize</td><td class=CDLDescription>The parameter specifies the page size of connected serial flash memory (Byte).</td></tr><tr><td class=CDLEntry>EraseSectorSize</td><td class=CDLDescription>The parameter specifies the erase sector size of connected serial flash memory (Byte).</td></tr><tr><td class=CDLEntry>FlashSize</td><td class=CDLDescription>Size of connected the serial flash memory (byte).</td></tr><tr><td class=CDLEntry>Command</td><td class=CDLDescription>See <a href="r_sfma_api-h.html#r_sfma_FlashCommand_t" class=LType id=link26 onMouseOver="ShowTip(event, 'tt26', 'link26')" onMouseOut="HideTip('tt26')">r_sfma_FlashCommand_t</a>.</td></tr><tr><td class=CDLEntry>DataWidth</td><td class=CDLDescription>The parameter specifies the data bus width.&nbsp; 1 bit data bus width.&lt;0uL&gt; 2 bits data bus width.&lt;1uL&gt; 4 bits data bus width.&lt;2uL&gt;</td></tr><tr><td class=CDLEntry>TransferMode</td><td class=CDLDescription>The parameter specifies the transfer mode.&nbsp; SDR transfer.&lt;0uL&gt; DDR transfer.&lt;1uL&gt;</td></tr><tr><td class=CDLEntry>AddressMode</td><td class=CDLDescription>The parameter specifies the format of address output to the serial flash memory.&nbsp; 24 bit address output.&lt;0x07uL&gt; 32 bit address output.&lt;0x0fuL&gt;</td></tr><tr><td class=CDLEntry>Cachemode</td><td class=CDLDescription>R_SFMA_CACHE_OFF - SFMA cache off.</td></tr><tr><td class=CDLEntry>R_SFMA_CACHE_BL1 ..&nbsp; BL16</td><td class=CDLDescription>SFMA cache on, with set burst length (BL1 = 1 data unit of 64bit, BL16 = 16 data units of 64bit)</td></tr><tr><td class=CDLEntry>PerformanceEnMode</td><td class=CDLDescription>The parameter specifies if performance enhance mode should be used The setting value of performance enhance mode to be disabled.&lt;0uL&gt; The setting value of performance enhance mode to be enabled.&lt;1uL&gt;</td></tr><tr><td class=CDLEntry>Mode</td><td class=CDLDescription>The parameter specifies operating mode.&nbsp; External address space read mode.&lt;0uL&gt; SPI operating mode.&lt;1uL&gt;</td></tr></table></div></div></div>

<div class="CType"><div class=CTopic><h3 class=CTitle><a name="r_sfma_Dev_t"></a>r_sfma_Dev_t</h3><div class=CBody><h4 class=CHeading>Description</h4><p>This type describes the information of the SFMA driver.</p><h4 class=CHeading>Struct members</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Mode</td><td class=CDLDescription>See <a href="r_sfma_api-h.html#r_sfma_Mode_t" class=LType id=link27 onMouseOver="ShowTip(event, 'tt27', 'link27')" onMouseOut="HideTip('tt27')">r_sfma_Mode_t</a></td></tr><tr><td class=CDLEntry>AccessAddr</td><td class=CDLDescription>The parameter specifies the access address of the serial flash memory.</td></tr><tr><td class=CDLEntry>AccessRange</td><td class=CDLDescription>See <a href="r_sfma_api-h.html#r_sfma_AccessRange_t" class=LType id=link28 onMouseOver="ShowTip(event, 'tt28', 'link28')" onMouseOut="HideTip('tt28')">r_sfma_AccessRange_t</a></td></tr><tr><td class=CDLEntry>SpiConfig</td><td class=CDLDescription>See <a href="#r_sfma_SpiConfig_t" class=LType id=link29 onMouseOver="ShowTip(event, 'tt29', 'link29')" onMouseOut="HideTip('tt29')">r_sfma_SpiConfig_t</a></td></tr></table></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Global_Functions"></a>Global Functions</h2><div class=CBody><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#SFMA_driver_Basic_interface_functions" >SFMA driver Basic interface functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_Init" id=link30 onMouseOver="ShowTip(event, 'tt1', 'link30')" onMouseOut="HideTip('tt1')">R_SFMA_Sys_Init</a></td><td class=SDescription>This function initializes environment-dependent part. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#R_SFMA_Sys_DeInit" id=link31 onMouseOver="ShowTip(event, 'tt2', 'link31')" onMouseOut="HideTip('tt2')">R_SFMA_Sys_DeInit</a></td><td class=SDescription>This function de-initializes environment-dependent part. </td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_BaseAddrGet" id=link32 onMouseOver="ShowTip(event, 'tt3', 'link32')" onMouseOut="HideTip('tt3')">R_SFMA_Sys_BaseAddrGet</a></td><td class=SDescription>This function gives back base address of dedicated macro. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#R_SFMA_Sys_ClockGet" id=link33 onMouseOver="ShowTip(event, 'tt4', 'link33')" onMouseOut="HideTip('tt4')">R_SFMA_Sys_ClockGet</a></td><td class=SDescription>This function gives back clock frequency of dedicated clock input. </td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_CalibSetting" id=link34 onMouseOver="ShowTip(event, 'tt5', 'link34')" onMouseOut="HideTip('tt5')">R_SFMA_Sys_CalibSetting</a></td><td class=SDescription>This function sets the calibration of the SFMA macro. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#R_SFMA_Sys_Close" id=link35 onMouseOver="ShowTip(event, 'tt6', 'link35')" onMouseOut="HideTip('tt6')">R_SFMA_Sys_Close</a></td><td class=SDescription>This function closes the SFMA in external address space. </td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_DDREnable" id=link36 onMouseOver="ShowTip(event, 'tt7', 'link36')" onMouseOut="HideTip('tt7')">R_SFMA_Sys_DDREnable</a></td><td class=SDescription>This function returns valid / invalid of the memory access mode (DDR or SDR). </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#R_SFMA_Sys_BusWidth8BitEnable" id=link37 onMouseOver="ShowTip(event, 'tt8', 'link37')" onMouseOut="HideTip('tt8')">R_SFMA_Sys_BusWidth8BitEnable</a></td><td class=SDescription>This function returns valid / invalid of the bus width 8bits mode (4bits or 8bits). </td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_SyncPeripheral" id=link38 onMouseOver="ShowTip(event, 'tt9', 'link38')" onMouseOut="HideTip('tt9')">R_SFMA_Sys_SyncPeripheral</a></td><td class=SDescription>This function performs synchronization processing to reflect updated contents of the control register. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#R_SFMA_Sys_NumberOfUnitGet" id=link39 onMouseOver="ShowTip(event, 'tt10', 'link39')" onMouseOut="HideTip('tt10')">R_SFMA_Sys_NumberOfUnitGet</a></td><td class=SDescription>This function retrieves the number of SFMA unit in this LSI. </td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_ExclusiveUnitGet" id=link40 onMouseOver="ShowTip(event, 'tt11', 'link40')" onMouseOut="HideTip('tt11')">R_SFMA_Sys_ExclusiveUnitGet</a></td><td class=SDescription>This function retrieves the exclusive unit for specified unit. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#R_SFMA_Sys_GetDevInfo" id=link41 onMouseOver="ShowTip(event, 'tt12', 'link41')" onMouseOut="HideTip('tt12')">R_SFMA_Sys_GetDevInfo</a></td><td class=SDescription>This function retrieves the pointer to <a href="#r_sfma_Dev_t" class=LType id=link42 onMouseOver="ShowTip(event, 'tt13', 'link42')" onMouseOut="HideTip('tt13')">r_sfma_Dev_t</a> information. </td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_GetCal" id=link43 onMouseOver="ShowTip(event, 'tt14', 'link43')" onMouseOut="HideTip('tt14')">R_SFMA_Sys_GetCal</a></td><td class=SDescription>This function retrieves the calibration value from the CKDLY register This function is called from <a href="r_sfma_api-h.html#R_SFMA_GetCal" class=LFunction id=link44 onMouseOver="ShowTip(event, 'tt15', 'link44')" onMouseOut="HideTip('tt15')">R_SFMA_GetCal</a>.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#R_SFMA_Sys_MinClockDivGet" id=link45 onMouseOver="ShowTip(event, 'tt16', 'link45')" onMouseOut="HideTip('tt16')">R_SFMA_Sys_MinClockDivGet</a></td><td class=SDescription>This function gives back the minimum clock divider. </td></tr><tr class="SGroup"><td class=SEntry><a href="#SFMA_driver_port_interface_functions" >SFMA driver port interface functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_SpibscPortSet" id=link46 onMouseOver="ShowTip(event, 'tt17', 'link46')" onMouseOut="HideTip('tt17')">R_SFMA_Sys_SpibscPortSet</a></td><td class=SDescription>This function sets the I/O signals of the SFMA. </td></tr><tr class="SGroup"><td class=SEntry><a href="#SFMA_driver_OS_interface_functions" >SFMA driver OS interface functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_Lock" id=link47 onMouseOver="ShowTip(event, 'tt18', 'link47')" onMouseOut="HideTip('tt18')">R_SFMA_Sys_Lock</a></td><td class=SDescription>This function locks the SFMA driver access to the specified unit from other threads. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#R_SFMA_Sys_Unlock" id=link48 onMouseOver="ShowTip(event, 'tt19', 'link48')" onMouseOut="HideTip('tt19')">R_SFMA_Sys_Unlock</a></td><td class=SDescription>This function unlocks the SFMA driver access to the specified unit from other threads. </td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_AllLock" id=link49 onMouseOver="ShowTip(event, 'tt20', 'link49')" onMouseOut="HideTip('tt20')">R_SFMA_Sys_AllLock</a></td><td class=SDescription>This function locks the SFMA driver access to all unit for other threads. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#R_SFMA_Sys_AllUnlock" id=link50 onMouseOver="ShowTip(event, 'tt21', 'link50')" onMouseOut="HideTip('tt21')">R_SFMA_Sys_AllUnlock</a></td><td class=SDescription>This function unlocks the SFMA driver access to all unit for other threads. </td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_Relax" id=link51 onMouseOver="ShowTip(event, 'tt22', 'link51')" onMouseOut="HideTip('tt22')">R_SFMA_Sys_Relax</a></td><td class=SDescription>This function relaxes CPU to avoid blocking. </td></tr><tr class="SGroup"><td class=SEntry><a href="#SFMA_driver_SWAP_interface_functions" >SFMA driver SWAP interface functions</a></td><td class=SDescription>Note:  This function does NOT support current RGL.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_UnitWindowSelect" id=link52 onMouseOver="ShowTip(event, 'tt23', 'link52')" onMouseOut="HideTip('tt23')">R_SFMA_Sys_UnitWindowSelect</a></td><td class=SDescription>This function flips the access able space which mapped to CPU address space in SFMA0 and SFMA1 by specifying the unit number and the Window. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#R_SFMA_Sys_SwapUnitGet" id=link53 onMouseOver="ShowTip(event, 'tt24', 'link53')" onMouseOut="HideTip('tt24')">R_SFMA_Sys_SwapUnitGet</a></td><td class=SDescription>This function retrieves the unit to be swapped for specified unit. </td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#R_SFMA_Sys_UnitNumberGet" id=link54 onMouseOver="ShowTip(event, 'tt25', 'link54')" onMouseOut="HideTip('tt25')">R_SFMA_Sys_UnitNumberGet</a></td><td class=SDescription>This function retrieves the unit number of specifying Window for SFMA. </td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="SFMA_driver_Basic_interface_functions"></a>SFMA driver Basic interface functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_Init"></a>R_SFMA_Sys_Init</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_Init(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function initializes environment-dependent part.&nbsp; This function is called from <a href="r_sfma_api-h.html#R_SFMA_Init" class=LFunction id=link55 onMouseOver="ShowTip(event, 'tt30', 'link55')" onMouseOut="HideTip('tt30')">R_SFMA_Init</a>.</p><p>This function is empty as default.</p><h4 class=CHeading>Customizing Points</h4><p>It is NOT necessary to modify this function in general use-case.&nbsp; If you want to add the initialization code of environment-depend (e.g. clock control), please implement to this function.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Unit</td><td class=CDLDescription>Instance number.</td></tr></table><h4 class=CHeading>Return value</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>R_SFMA_ERR_OK</td><td class=CDLDescription>No error has occurred.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_RANGE_UNIT</td><td class=CDLDescription>Unit number is out of range.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_FATAL_HW</td><td class=CDLDescription>Fatal error has occurred at H/W.</td></tr></table><p>See <a href="r_sfma_api-h.html#r_sfma_Error_t" class=LType id=link56 onMouseOver="ShowTip(event, 'tt31', 'link56')" onMouseOut="HideTip('tt31')">r_sfma_Error_t</a>.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_DeInit"></a>R_SFMA_Sys_DeInit</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_DeInit(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function de-initializes environment-dependent part.&nbsp; This function is called from <a href="r_sfma_api-h.html#R_SFMA_DeInit" class=LFunction id=link57 onMouseOver="ShowTip(event, 'tt32', 'link57')" onMouseOut="HideTip('tt32')">R_SFMA_DeInit</a>.</p><p>This function is empty as default.</p><h4 class=CHeading>Customizing Points</h4><p>It is NOT necessary to modify this function in general use-case.&nbsp; If you want to add the de-initialization code of environment-depend (e.g. clock control), please implement to this function.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Unit</td><td class=CDLDescription>Instance number.</td></tr></table><h4 class=CHeading>Return value</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>R_SFMA_ERR_OK</td><td class=CDLDescription>No error has occurred.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_RANGE_UNIT</td><td class=CDLDescription>Unit number is out of range.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_FATAL_HW</td><td class=CDLDescription>Fatal error has occurred at H/W.</td></tr></table><p>See <a href="r_sfma_api-h.html#r_sfma_Error_t" class=LType id=link58 onMouseOver="ShowTip(event, 'tt31', 'link58')" onMouseOut="HideTip('tt31')">r_sfma_Error_t</a>.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_BaseAddrGet"></a>R_SFMA_Sys_BaseAddrGet</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint32_t R_SFMA_Sys_BaseAddrGet(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function gives back base address of dedicated macro.&nbsp; This function is called from several SFMA APIs.</p><p>This function executes the following processing.</p><ul><li>Returns the base address of SFMA H/W macro&rsquo;s register.</li></ul><h4 class=CHeading>Customizing Points</h4><p>It is NOT necessary to modify this function in general use-case.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Unit</td><td class=CDLDescription>Instance number.</td></tr></table><h4 class=CHeading>Return value</h4><p>Macro base address.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_ClockGet"></a>R_SFMA_Sys_ClockGet</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint32_t R_SFMA_Sys_ClockGet(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function gives back clock frequency of dedicated clock input.&nbsp; This function is called from <a href="r_sfma_api-h.html#R_SFMA_Open" class=LFunction id=link59 onMouseOver="ShowTip(event, 'tt33', 'link59')" onMouseOut="HideTip('tt33')">R_SFMA_Open</a> and <a href="r_sfma_api-h.html#R_SFMA_JEDECRead" class=LFunction id=link60 onMouseOver="ShowTip(event, 'tt34', 'link60')" onMouseOut="HideTip('tt34')">R_SFMA_JEDECRead</a>.</p><p>This function executes the following processing.</p><ul><li>Returns the clock frequency which is inputting to SFMAx macro.</li></ul><h4 class=CHeading>Customizing Points</h4><p>It is NOT necessary to modify this function in general use-case.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Unit</td><td class=CDLDescription>Instance number.</td></tr></table><h4 class=CHeading>Return value</h4><p>The clock frequency (Hz).</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_CalibSetting"></a>R_SFMA_Sys_CalibSetting</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_CalibSetting(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const r_sfma_Config_t *&nbsp;</td><td class="PType  prettyprint " nowrap>const&nbsp;</td><td class="PParameter  prettyprint " nowrap>Config</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function sets the calibration of the SFMA macro.&nbsp; This function is called from <a href="r_sfma_api-h.html#R_SFMA_Open" class=LFunction id=link61 onMouseOver="ShowTip(event, 'tt33', 'link61')" onMouseOut="HideTip('tt33')">R_SFMA_Open</a>.</p><p>This function executes the following processing.</p><ul><li>Adjustment between input/output data and sampling clocks (refer to Section 17.5.14 Adjustment between input/output data and sampling clocks in RH850/D1L/D1M Group User&rsquo;s Manual: Hardware)</li></ul><h4 class=CHeading>Customizing Points</h4><p>This function is sample code for MX25L51245G.&nbsp; If you use other Serial flash, it must be changed according to the connected device specification.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Unit</td><td class=CDLDescription>Instance number.</td></tr><tr><td class=CDLEntry>Config</td><td class=CDLDescription>This is a pointer to the <a href="r_sfma_api-h.html#r_sfma_Config_t" class=LType id=link62 onMouseOver="ShowTip(event, 'tt35', 'link62')" onMouseOut="HideTip('tt35')">r_sfma_Config_t</a> structure to the configuration of the unit.</td></tr></table><h4 class=CHeading>Return value</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>R_SFMA_ERR_OK</td><td class=CDLDescription>No error has occurred.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_RANGE_UNIT</td><td class=CDLDescription>Unit number is out of range.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_PARAM_INCORRECT</td><td class=CDLDescription>A parameter is incorrect.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_FATAL_HW</td><td class=CDLDescription>Fatal error has occurred at H/W.</td></tr></table><p>See <a href="r_sfma_api-h.html#r_sfma_Error_t" class=LType id=link63 onMouseOver="ShowTip(event, 'tt31', 'link63')" onMouseOut="HideTip('tt31')">r_sfma_Error_t</a>.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_Close"></a>R_SFMA_Sys_Close</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_Close(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function closes the SFMA in external address space.&nbsp; This function is called from <a href="r_sfma_api-h.html#R_SFMA_Close" class=LFunction id=link64 onMouseOver="ShowTip(event, 'tt36', 'link64')" onMouseOut="HideTip('tt36')">R_SFMA_Close</a></p><p>This function executes the following processing.</p><ul><li>Set negate bit of DRCR register due to terminate any transfers from external address space.</li></ul><h4 class=CHeading>Customizing Points</h4><p>It is NOT necessary to modify this function in general use-case.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Unit</td><td class=CDLDescription>Instance number.</td></tr></table><h4 class=CHeading>Return value</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>R_SFMA_ERR_OK</td><td class=CDLDescription>No error has occurred.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_RANGE_UNIT</td><td class=CDLDescription>Unit number is out of range.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_FATAL_HW</td><td class=CDLDescription>Fatal error has occurred at H/W.</td></tr></table><p>See <a href="r_sfma_api-h.html#r_sfma_Error_t" class=LType id=link65 onMouseOver="ShowTip(event, 'tt31', 'link65')" onMouseOut="HideTip('tt31')">r_sfma_Error_t</a>.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_DDREnable"></a>R_SFMA_Sys_DDREnable</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint8_t R_SFMA_Sys_DDREnable(</td><td class="PParameter  prettyprint " nowrap>void</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function returns valid / invalid of the memory access mode (DDR or SDR).&nbsp; This function is called from <a href="r_sfma_api-h.html#R_SFMA_Open" class=LFunction id=link66 onMouseOver="ShowTip(event, 'tt33', 'link66')" onMouseOut="HideTip('tt33')">R_SFMA_Open</a>.</p><p>This function executes the following processing.</p><ul><li>If LSI is supported DDR mode, this function should return R_TRUE.</li></ul><h4 class=CHeading>Customizing Points</h4><p>It is NOT necessary to modify this function in general use-case.</p><h4 class=CHeading>Parameter</h4><p>None.</p><h4 class=CHeading>Return value</h4><p>R_TRUE or R_FALSE.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_BusWidth8BitEnable"></a>R_SFMA_Sys_BusWidth8BitEnable</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint8_t R_SFMA_Sys_BusWidth8BitEnable(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function returns valid / invalid of the bus width 8bits mode (4bits or 8bits).&nbsp; This function is called from <a href="r_sfma_api-h.html#R_SFMA_Open" class=LFunction id=link67 onMouseOver="ShowTip(event, 'tt33', 'link67')" onMouseOut="HideTip('tt33')">R_SFMA_Open</a>.</p><p>This function executes the following processing.</p><ul><li>If LSI and specified unit are supported the bus width 8bits mode, this function should return R_TRUE.</li></ul><h4 class=CHeading>Customizing Points</h4><p>It is NOT necessary to modify this function in general use-case.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Unit</td><td class=CDLDescription>Instance number.</td></tr></table><h4 class=CHeading>Return value</h4><p>R_TRUE or R_FALSE.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_SyncPeripheral"></a>R_SFMA_Sys_SyncPeripheral</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void R_SFMA_Sys_SyncPeripheral(</td><td class="PParameter  prettyprint " nowrap>void</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function performs synchronization processing to reflect updated contents of the control register.&nbsp; This function is called from several SFMA APIs.</p><p>This function executes the following processing.</p><ul><li>SYNCP instruction of RH850 is executed.</li></ul><h4 class=CHeading>Customizing Points</h4><p>It is NOT necessary to modify this function in general use-case.</p><h4 class=CHeading>Parameter</h4><p>None.</p><h4 class=CHeading>Return value</h4><p>void.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_NumberOfUnitGet"></a>R_SFMA_Sys_NumberOfUnitGet</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint32_t R_SFMA_Sys_NumberOfUnitGet(</td><td class="PParameter  prettyprint " nowrap>void</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function retrieves the number of SFMA unit in this LSI.&nbsp; This function is called from several SFMA APIs.</p><p>This function executes the following processing.</p><ul><li>Returns the number of SFMA unit in this LSI.&nbsp; (As for number of SFMA unit of LSI, please refer to Table 17.1 Units in RH850/D1L/D1M Group User&rsquo;s Manual: Hardware)</li></ul><h4 class=CHeading>Customizing Points</h4><p>It is NOT necessary to modify this function in general use-case.</p><h4 class=CHeading>Parameter</h4><p>None.</p><h4 class=CHeading>Return value</h4><p>Number of Unit.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_ExclusiveUnitGet"></a>R_SFMA_Sys_ExclusiveUnitGet</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint32_t R_SFMA_Sys_ExclusiveUnitGet(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function retrieves the exclusive unit for specified unit.&nbsp; If exclusive unit does not exist, this function retrieves unit out of range.&nbsp; This function is called from <a href="r_sfma_api-h.html#R_SFMA_Init" class=LFunction id=link68 onMouseOver="ShowTip(event, 'tt30', 'link68')" onMouseOut="HideTip('tt30')">R_SFMA_Init</a>.</p><p>This function executes the following processing.</p><ul><li>Returns the exclusive unit number in this LSI.&nbsp; (As for exclusive unit number of SFMA in this LSI, please refer to Table 1.5 Flash memory and Video output VO0 connection options for D1M1-V2 and D1M1A devices in RH850/D1L/D1M Group User&rsquo;s Manual: Hardware)</li></ul><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Unit</td><td class=CDLDescription>Instance number.</td></tr></table><h4 class=CHeading>Return value</h4><p>Exclusive unit.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_GetDevInfo"></a>R_SFMA_Sys_GetDevInfo</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Dev_t* R_SFMA_Sys_GetDevInfo(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function retrieves the pointer to <a href="#r_sfma_Dev_t" class=LType id=link69 onMouseOver="ShowTip(event, 'tt13', 'link69')" onMouseOut="HideTip('tt13')">r_sfma_Dev_t</a> information.&nbsp; This function is called from several SFMA APIs.</p><p>This function executes the following processing.</p><ul><li>Returns the pointer to <a href="#r_sfma_Dev_t" class=LType id=link70 onMouseOver="ShowTip(event, 'tt13', 'link70')" onMouseOut="HideTip('tt13')">r_sfma_Dev_t</a> information of specified unit.</li></ul><h4 class=CHeading>Customizing Points</h4><p>It is NOT necessary to modify this function in general use-case.</p><p>If you use SFMA only 1 unit, you can reduce RAM size by changing LOC_SYS_DEV_NUM definition from 2 to 1.&nbsp; In that case, please change the processing of this function appropriately.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Unit</td><td class=CDLDescription>Instance number.</td></tr></table><h4 class=CHeading>Return value</h4><p>Pointer to <a href="#r_sfma_Dev_t" class=LType id=link71 onMouseOver="ShowTip(event, 'tt13', 'link71')" onMouseOut="HideTip('tt13')">r_sfma_Dev_t</a>.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_GetCal"></a>R_SFMA_Sys_GetCal</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint32_t R_SFMA_Sys_GetCal(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function retrieves the calibration value from the CKDLY register This function is called from <a href="r_sfma_api-h.html#R_SFMA_GetCal" class=LFunction id=link72 onMouseOver="ShowTip(event, 'tt15', 'link72')" onMouseOut="HideTip('tt15')">R_SFMA_GetCal</a>.</p><p>This function executes the following processing.</p><ul><li>Returns value of CKDLY register.&nbsp; If unit number is wrong, please returns 0xFFFFFFFF.</li></ul><h4 class=CHeading>Customizing Points</h4><p>It is NOT necessary to modify this function in general use-case.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Unit</td><td class=CDLDescription>Instance number.</td></tr></table><h4 class=CHeading>Return value</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>uint32_t</td><td class=CDLDescription>Calibration value</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_MinClockDivGet"></a>R_SFMA_Sys_MinClockDivGet</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint32_t R_SFMA_Sys_MinClockDivGet(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Clock,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint8_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>TransferMode</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function gives back the minimum clock divider.&nbsp; This function is called from <a href="r_sfma_api-h.html#R_SFMA_Open" class=LFunction id=link73 onMouseOver="ShowTip(event, 'tt33', 'link73')" onMouseOut="HideTip('tt33')">R_SFMA_Open</a> and <a href="r_sfma_api-h.html#R_SFMA_JEDECRead" class=LFunction id=link74 onMouseOver="ShowTip(event, 'tt34', 'link74')" onMouseOut="HideTip('tt34')">R_SFMA_JEDECRead</a>.</p><p>This function executes the following processing.</p><ul><li>Calculates the minimum clock division and returns it.&nbsp; The minimum clock division is calculated by the following formula.</li></ul><blockquote><pre class="prettyprint">minimum clock division = (SMFAn clock + (SPBCLK - 1)) / SPBCLK</pre></blockquote><p>Note: Calculate with round-up (to avoid returning too small value.)</p><h4 class=CHeading>Customizing Points</h4><p>It is NOT necessary to modify this function in general use-case.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Unit</td><td class=CDLDescription>Instance number.</td></tr><tr><td class=CDLEntry>Clock</td><td class=CDLDescription>The parameter specifies the internal bus clock frequency(Hz).</td></tr><tr><td class=CDLEntry>TransferMode</td><td class=CDLDescription>The parameter specifies the transfer mode.&nbsp; SDR transfer.&lt;0uL&gt; DDR transfer.&lt;1uL&gt;</td></tr></table><h4 class=CHeading>Return value</h4><p>The clock division ratio.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="SFMA_driver_port_interface_functions"></a>SFMA driver port interface functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_SpibscPortSet"></a>R_SFMA_Sys_SpibscPortSet</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_SpibscPortSet(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint8_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>DataBusWidth,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Bsz</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function sets the I/O signals of the SFMA.&nbsp; This function is called from <a href="r_sfma_api-h.html#R_SFMA_Open" class=LFunction id=link75 onMouseOver="ShowTip(event, 'tt33', 'link75')" onMouseOut="HideTip('tt33')">R_SFMA_Open</a> and <a href="r_sfma_api-h.html#R_SFMA_JEDECRead" class=LFunction id=link76 onMouseOver="ShowTip(event, 'tt34', 'link76')" onMouseOut="HideTip('tt34')">R_SFMA_JEDECRead</a>.</p><p>This function is empty as default.</p><h4 class=CHeading>Customizing Points</h4><p>If BSP does NOT setup the pin for SFMA H/W macro, please implement the pin setup process for SFMA H/W macro.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>DataBusWidth</td><td class=CDLDescription>The parameter specifies the data bus width.</td></tr><tr><td class=CDLEntry>Bsz</td><td class=CDLDescription>The parameter specifies the number of serial flash memories to be connected.</td></tr></table><h4 class=CHeading>Return value</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>R_SFMA_ERR_OK</td><td class=CDLDescription>No error has occurred.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_RANGE_UNIT</td><td class=CDLDescription>Unit number is out of range.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_PARAM_INCORRECT</td><td class=CDLDescription>A parameter is incorrect.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_FATAL_HW</td><td class=CDLDescription>Fatal error has occurred at H/W.</td></tr></table><p>See <a href="r_sfma_api-h.html#r_sfma_Error_t" class=LType id=link77 onMouseOver="ShowTip(event, 'tt31', 'link77')" onMouseOut="HideTip('tt31')">r_sfma_Error_t</a>.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="SFMA_driver_OS_interface_functions"></a>SFMA driver OS interface functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_Lock"></a>R_SFMA_Sys_Lock</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_Lock(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function locks the SFMA driver access to the specified unit from other threads.&nbsp; This function is called from several SFMA APIs.</p><p>This function is empty as default.</p><h4 class=CHeading>Customizing Points</h4><p>Please implement the lock process by mutex or semaphore if SFMA API is called from multi-thread.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Unit</td><td class=CDLDescription>Instance number.</td></tr></table><h4 class=CHeading>Return value</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>R_SFMA_ERR_OK</td><td class=CDLDescription>No error has occurred.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_RANGE_UNIT</td><td class=CDLDescription>Unit number is out of range.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_PARAM_INCORRECT</td><td class=CDLDescription>A parameter is incorrect.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_FATAL_OS</td><td class=CDLDescription>Fatal error has occurred at OS interface.</td></tr></table><p>See <a href="r_sfma_api-h.html#r_sfma_Error_t" class=LType id=link78 onMouseOver="ShowTip(event, 'tt31', 'link78')" onMouseOut="HideTip('tt31')">r_sfma_Error_t</a>.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_Unlock"></a>R_SFMA_Sys_Unlock</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_Unlock(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function unlocks the SFMA driver access to the specified unit from other threads.&nbsp; This function is called from several SFMA APIs.</p><p>This function is empty as default.</p><h4 class=CHeading>Customizing Points</h4><p>Please implement the unlock process depending on <a href="#R_SFMA_Sys_Lock" class=LFunction id=link79 onMouseOver="ShowTip(event, 'tt18', 'link79')" onMouseOut="HideTip('tt18')">R_SFMA_Sys_Lock</a>.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Unit</td><td class=CDLDescription>Instance number.</td></tr></table><h4 class=CHeading>Return value</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>R_SFMA_ERR_OK</td><td class=CDLDescription>No error has occurred.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_RANGE_UNIT</td><td class=CDLDescription>Unit number is out of range.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_PARAM_INCORRECT</td><td class=CDLDescription>A parameter is incorrect.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_FATAL_OS</td><td class=CDLDescription>Fatal error has occurred at OS interface.</td></tr></table><p>See <a href="r_sfma_api-h.html#r_sfma_Error_t" class=LType id=link80 onMouseOver="ShowTip(event, 'tt31', 'link80')" onMouseOut="HideTip('tt31')">r_sfma_Error_t</a>.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_AllLock"></a>R_SFMA_Sys_AllLock</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_AllLock(</td><td class="PParameter  prettyprint " nowrap>void</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function locks the SFMA driver access to all unit for other threads.&nbsp; This function is called from several SFMA APIs.</p><p>This function is empty as default.</p><h4 class=CHeading>Customizing Points</h4><p>Please implement the lock process of all unit by mutex or semaphore if SFMA API is called from multi-thread.</p><h4 class=CHeading>Return value</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>R_SFMA_ERR_OK</td><td class=CDLDescription>No error has occurred.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_FATAL_OS</td><td class=CDLDescription>Fatal error has occurred at OS interface.</td></tr></table><p>See <a href="r_sfma_api-h.html#r_sfma_Error_t" class=LType id=link81 onMouseOver="ShowTip(event, 'tt31', 'link81')" onMouseOut="HideTip('tt31')">r_sfma_Error_t</a>.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_AllUnlock"></a>R_SFMA_Sys_AllUnlock</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_AllUnlock(</td><td class="PParameter  prettyprint " nowrap>void</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function unlocks the SFMA driver access to all unit for other threads.&nbsp; This function is called from several SFMA APIs.</p><p>This function is empty as default.</p><h4 class=CHeading>Customizing Points</h4><p>Please implement the unlock process of all unit depending on <a href="#R_SFMA_Sys_AllLock" class=LFunction id=link82 onMouseOver="ShowTip(event, 'tt20', 'link82')" onMouseOut="HideTip('tt20')">R_SFMA_Sys_AllLock</a>.</p><h4 class=CHeading>Return value</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>R_SFMA_ERR_OK</td><td class=CDLDescription>No error has occurred.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_FATAL_OS</td><td class=CDLDescription>Fatal error has occurred at OS interface.</td></tr></table><p>See <a href="r_sfma_api-h.html#r_sfma_Error_t" class=LType id=link83 onMouseOver="ShowTip(event, 'tt31', 'link83')" onMouseOut="HideTip('tt31')">r_sfma_Error_t</a>.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_Relax"></a>R_SFMA_Sys_Relax</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_Relax(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function relaxes CPU to avoid blocking.&nbsp; This function is called from <a href="r_sfma_api-h.html#R_SFMA_DataErase" class=LFunction id=link84 onMouseOver="ShowTip(event, 'tt37', 'link84')" onMouseOut="HideTip('tt37')">R_SFMA_DataErase</a>, <a href="r_sfma_api-h.html#R_SFMA_DataWrite" class=LFunction id=link85 onMouseOver="ShowTip(event, 'tt38', 'link85')" onMouseOut="HideTip('tt38')">R_SFMA_DataWrite</a> and <a href="r_sfma_api-h.html#R_SFMA_DataRead" class=LFunction id=link86 onMouseOver="ShowTip(event, 'tt39', 'link86')" onMouseOut="HideTip('tt39')">R_SFMA_DataRead</a>.</p><p>This function is empty as default.</p><h4 class=CHeading>Customizing Points</h4><p>Please implement the relaxing or re-scheduling process if necessary.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Unit</td><td class=CDLDescription>The parameter specifies the instance number.</td></tr></table><h4 class=CHeading>Return value</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>R_SFMA_ERR_OK</td><td class=CDLDescription>No error has occurred.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_RANGE_UNIT</td><td class=CDLDescription>Unit number is out of range.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_FATAL_OS</td><td class=CDLDescription>Fatal error has occurred at OS interface.</td></tr></table><p>See <a href="r_sfma_api-h.html#r_sfma_Error_t" class=LType id=link87 onMouseOver="ShowTip(event, 'tt31', 'link87')" onMouseOut="HideTip('tt31')">r_sfma_Error_t</a>.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="SFMA_driver_SWAP_interface_functions"></a>SFMA driver SWAP interface functions</h3><div class=CBody><p>Note:  This function does NOT support current RGL.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_UnitWindowSelect"></a>R_SFMA_Sys_UnitWindowSelect</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_UnitWindowSelect(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>r_sfma_WindowMode_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Window</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function flips the access able space which mapped to CPU address space in SFMA0 and SFMA1 by specifying the unit number and the Window.&nbsp; This function is called from <a href="r_sfma_api-h.html#R_SFMA_UnitWindowSelect" class=LFunction id=link88 onMouseOver="ShowTip(event, 'tt40', 'link88')" onMouseOut="HideTip('tt40')">R_SFMA_UnitWindowSelect</a>.</p><h4 class=CHeading>Customizing Points</h4><p>It is NOT necessary to modify this function in general use-case.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Unit</td><td class=CDLDescription>Instance number.</td></tr><tr><td class=CDLEntry>Window</td><td class=CDLDescription>The parameter specifies the window for SFMA.&nbsp; See r_sfma_WindowMode_t.</td></tr></table><h4 class=CHeading>Return value</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>R_SFMA_ERR_OK</td><td class=CDLDescription>No error has occurred.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_RANGE_UNIT</td><td class=CDLDescription>Unit number is out of range.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_PARAM_INCORRECT</td><td class=CDLDescription>A parameter is incorrect.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_FATAL_HW</td><td class=CDLDescription>Fatal error has occurred at H/W.</td></tr></table><p>See <a href="r_sfma_api-h.html#r_sfma_Error_t" class=LType id=link89 onMouseOver="ShowTip(event, 'tt31', 'link89')" onMouseOut="HideTip('tt31')">r_sfma_Error_t</a>.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_SwapUnitGet"></a>R_SFMA_Sys_SwapUnitGet</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint32_t R_SFMA_Sys_SwapUnitGet(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function retrieves the unit to be swapped for specified unit.&nbsp; This function is called from <a href="r_sfma_api-h.html#R_SFMA_UnitWindowSelect" class=LFunction id=link90 onMouseOver="ShowTip(event, 'tt40', 'link90')" onMouseOut="HideTip('tt40')">R_SFMA_UnitWindowSelect</a>.</p><h4 class=CHeading>Customizing Points</h4><p>It is NOT necessary to modify this function in general use-case.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Unit</td><td class=CDLDescription>Instance number.</td></tr></table><h4 class=CHeading>Return value</h4><p>Unit to be swapped.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="R_SFMA_Sys_UnitNumberGet"></a>R_SFMA_Sys_UnitNumberGet</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_UnitNumberGet(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>r_sfma_WindowMode_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Window,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>uint32_t *&nbsp;</td><td class="PType  prettyprint " nowrap>const&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><h4 class=CHeading>Description</h4><p>This function retrieves the unit number of specifying Window for SFMA.&nbsp; This function is called from <a href="r_sfma_api-h.html#R_SFMA_UnitNumberGet" class=LFunction id=link91 onMouseOver="ShowTip(event, 'tt41', 'link91')" onMouseOut="HideTip('tt41')">R_SFMA_UnitNumberGet</a>.</p><h4 class=CHeading>Customizing Points</h4><p>It is NOT necessary to modify this function in general use-case.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Window</td><td class=CDLDescription>The parameter specifies the window for SFMA.&nbsp; See r_sfma_WindowMode_t.</td></tr><tr><td class=CDLEntry>Unit</td><td class=CDLDescription>Instance number.</td></tr></table><h4 class=CHeading>Return value</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>R_SFMA_ERR_OK</td><td class=CDLDescription>No error has occurred.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_RANGE_UNIT</td><td class=CDLDescription>Unit number is out of range.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_PARAM_INCORRECT</td><td class=CDLDescription>A parameter is incorrect.</td></tr><tr><td class=CDLEntry>R_SFMA_ERR_FATAL_HW</td><td class=CDLDescription>Fatal error has occurred at H/W.</td></tr></table><p>See <a href="r_sfma_api-h.html#r_sfma_Error_t" class=LType id=link92 onMouseOver="ShowTip(event, 'tt31', 'link92')" onMouseOut="HideTip('tt31')">r_sfma_Error_t</a>.</p></div></div></div>

</div><!--Content-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_Init(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function initializes environment-dependent part. </div></div><div class=CToolTip id="tt2"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_DeInit(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function de-initializes environment-dependent part. </div></div><div class=CToolTip id="tt3"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint32_t R_SFMA_Sys_BaseAddrGet(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function gives back base address of dedicated macro. </div></div><div class=CToolTip id="tt4"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint32_t R_SFMA_Sys_ClockGet(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function gives back clock frequency of dedicated clock input. </div></div><div class=CToolTip id="tt5"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_CalibSetting(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const r_sfma_Config_t *&nbsp;</td><td class="PType  prettyprint " nowrap>const&nbsp;</td><td class="PParameter  prettyprint " nowrap>Config</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function sets the calibration of the SFMA macro. </div></div><div class=CToolTip id="tt6"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_Close(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function closes the SFMA in external address space. </div></div><div class=CToolTip id="tt7"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint8_t R_SFMA_Sys_DDREnable(</td><td class="PParameter  prettyprint " nowrap>void</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function returns valid / invalid of the memory access mode (DDR or SDR). </div></div><div class=CToolTip id="tt8"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint8_t R_SFMA_Sys_BusWidth8BitEnable(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function returns valid / invalid of the bus width 8bits mode (4bits or 8bits). </div></div><div class=CToolTip id="tt9"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void R_SFMA_Sys_SyncPeripheral(</td><td class="PParameter  prettyprint " nowrap>void</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function performs synchronization processing to reflect updated contents of the control register. </div></div><div class=CToolTip id="tt10"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint32_t R_SFMA_Sys_NumberOfUnitGet(</td><td class="PParameter  prettyprint " nowrap>void</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function retrieves the number of SFMA unit in this LSI. </div></div><div class=CToolTip id="tt11"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint32_t R_SFMA_Sys_ExclusiveUnitGet(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function retrieves the exclusive unit for specified unit. </div></div><div class=CToolTip id="tt12"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Dev_t* R_SFMA_Sys_GetDevInfo(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function retrieves the pointer to r_sfma_Dev_t information. </div></div><div class=CToolTip id="tt13"><div class=CType>This type describes the information of the SFMA driver.</div></div><div class=CToolTip id="tt14"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint32_t R_SFMA_Sys_GetCal(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function retrieves the calibration value from the CKDLY register This function is called from R_SFMA_GetCal.</div></div><div class=CToolTip id="tt15"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_GetCal(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>Unit,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>Cal</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function retrieves the calibration value.</div></div><div class=CToolTip id="tt16"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint32_t R_SFMA_Sys_MinClockDivGet(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Clock,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint8_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>TransferMode</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function gives back the minimum clock divider. </div></div><div class=CToolTip id="tt17"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_SpibscPortSet(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint8_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>DataBusWidth,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Bsz</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function sets the I/O signals of the SFMA. </div></div><div class=CToolTip id="tt18"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_Lock(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function locks the SFMA driver access to the specified unit from other threads. </div></div><div class=CToolTip id="tt19"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_Unlock(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function unlocks the SFMA driver access to the specified unit from other threads. </div></div><div class=CToolTip id="tt20"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_AllLock(</td><td class="PParameter  prettyprint " nowrap>void</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function locks the SFMA driver access to all unit for other threads. </div></div><div class=CToolTip id="tt21"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_AllUnlock(</td><td class="PParameter  prettyprint " nowrap>void</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function unlocks the SFMA driver access to all unit for other threads. </div></div><div class=CToolTip id="tt22"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_Relax(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function relaxes CPU to avoid blocking. </div></div><div class=CToolTip id="tt23"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_UnitWindowSelect(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>r_sfma_WindowMode_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Window</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function flips the access able space which mapped to CPU address space in SFMA0 and SFMA1 by specifying the unit number and the Window. </div></div><div class=CToolTip id="tt24"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint32_t R_SFMA_Sys_SwapUnitGet(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function retrieves the unit to be swapped for specified unit. </div></div><div class=CToolTip id="tt25"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Sys_UnitNumberGet(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>r_sfma_WindowMode_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Window,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>uint32_t *&nbsp;</td><td class="PType  prettyprint " nowrap>const&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function retrieves the unit number of specifying Window for SFMA. </div></div><div class=CToolTip id="tt26"><div class=CType>This type describes the serial flash commands.</div></div><div class=CToolTip id="tt27"><div class=CType>This type describes the operating mode.</div></div><div class=CToolTip id="tt28"><div class=CType>This type describes the access range of the serial flash memory.</div></div><div class=CToolTip id="tt29"><div class=CType>This type describes the configuration of the SPI.</div></div><div class=CToolTip id="tt30"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Init(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function initializes the SFMA driver.</div></div><div class=CToolTip id="tt31"><div class=CType>SFMA driver error code.</div></div><div class=CToolTip id="tt32"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_DeInit(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function de-initializes the SFMA driver.</div></div><div class=CToolTip id="tt33"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Open(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const r_sfma_Config_t *&nbsp;</td><td class="PType  prettyprint " nowrap>const&nbsp;</td><td class="PParameter  prettyprint " nowrap>Config</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function opens the SFMA driver at an operating mode, number of memories that is specified.</div></div><div class=CToolTip id="tt34"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_JEDECRead(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>uint8_t *&nbsp;</td><td class="PType  prettyprint " nowrap>const&nbsp;</td><td class="PParameter  prettyprint " nowrap>ManufacturerID,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>uint8_t *&nbsp;</td><td class="PType  prettyprint " nowrap>const&nbsp;</td><td class="PParameter  prettyprint " nowrap>MemoryType,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>uint8_t *&nbsp;</td><td class="PType  prettyprint " nowrap>const&nbsp;</td><td class="PParameter  prettyprint " nowrap>Capacity</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function reads basic JEDEC data.</div></div><div class=CToolTip id="tt35"><div class=CType>This type describes the configuration of the unit.</div></div><div class=CToolTip id="tt36"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_Close(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function closes the SFMA driver.</div></div><div class=CToolTip id="tt37"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_DataErase(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint64_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Addr,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>int32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function erases the data of designated address in the serial flash memory.</div></div><div class=CToolTip id="tt38"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_DataWrite(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>Unit,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint64_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>Addr,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint8_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>Buf,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>int32_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>Size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function writes data to the serial flash memory.</div></div><div class=CToolTip id="tt39"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_DataRead(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>Unit,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint64_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>Addr,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>uint8_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>Buf,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>int32_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>Size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function reads data from the serial flash memory.</div></div><div class=CToolTip id="tt40"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_UnitWindowSelect(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>r_sfma_WindowMode_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Window</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function is reserved for future use.</div></div><div class=CToolTip id="tt41"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>r_sfma_Error_t R_SFMA_UnitNumberGet(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>r_sfma_WindowMode_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>Window,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>uint32_t *&nbsp;</td><td class="PType  prettyprint " nowrap>const&nbsp;</td><td class="PParameter  prettyprint " nowrap>Unit</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This function is reserved for future use.</div></div><!--END_ND_TOOLTIPS-->

<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>